<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAT - a pattern making game</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Framer Motion for animations -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Alpine.js for reactive state -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Remix Icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    
    <!-- Geist Font -->
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/responsive.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <script>
        // Tailwind config
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'bounce-slow': 'bounce 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-white text-gray-800">
    <!-- Mobile Overlay -->
    <div id="mobileOverlay" class="mobile-overlay">
        <div class="mobile-content">
            <img src="pat2.svg" alt="Game Logo" class="mobile-logo">
            <p class="mobile-subtitle">Pat doesn't work well on mobile.</p>
        </div>
    </div>
    
    <!-- Main Game Area -->
    <div class="game-area">
        <!-- Left Sidebar for responsive layout -->
        <div class="left-sidebar">
            <!-- Logo above player info -->
            <div class="logo-container">
                <img src="pat2.svg" alt="Game Logo" class="game-logo">
                <span class="logo-subtitle">a pattern making game</span>
                <!-- New Game Button inline with logo -->
                <div class="new-game-container">
                    <button id="newGameBtn" class="new-game-btn group relative">
                        <i class="ri-add-line"></i>
                        <span class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-900 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50">New Game</span>
                    </button>
                    <!-- Player Selection Popover -->
                    <div id="playerSelectionPopover" class="player-selection-popover">
                        <div class="popover-content">
                            <div class="player-option" data-players="2">
                                <span class="player-count">2 Players</span>
                                <div class="player-circles">
                                    <div class="player-circle" style="background-color: #9ca3af;"></div>
                                    <div class="player-circle" style="background-color: #6b7280;"></div>
                                </div>
                            </div>
                            <div class="player-option" data-players="3">
                                <span class="player-count">3 Players</span>
                                <div class="player-circles">
                                    <div class="player-circle" style="background-color: #d1d5db;"></div>
                                    <div class="player-circle" style="background-color: #9ca3af;"></div>
                                    <div class="player-circle" style="background-color: #6b7280;"></div>
                                </div>
                            </div>
                        <div class="player-option" data-players="4">
                            <span class="player-count">4 Players</span>
                            <div class="player-circles">
                                <div class="player-circle" style="background-color: #e5e7eb;"></div>
                                <div class="player-circle" style="background-color: #d1d5db;"></div>
                                <div class="player-circle" style="background-color: #9ca3af;"></div>
                                <div class="player-circle" style="background-color: #6b7280;"></div>
                            </div>
                        </div>
                        <!-- Divider -->
                        <div class="popover-divider"></div>
                        <!-- Grid Size Options -->
                        <div class="grid-size-options">
                            <div class="grid-size-option selected" data-grid-size="12">
                                <span class="grid-size-dimensions">small</span>
                            </div>
                            <div class="grid-size-option" data-grid-size="13">
                                <span class="grid-size-dimensions">medium</span>
                            </div>
                            <div class="grid-size-option" data-grid-size="14">
                                <span class="grid-size-dimensions">large</span>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
            <!-- Bottom Marketplace -->
            <div class="marketplace-container">
                <div class="pieces-container" id="marketplace"></div>
            </div>
        </div>
        
        <div class="game-board-container">
            <!-- Logo for desktop layout -->
            <div class="logo-container desktop-logo">
                <img src="pat2.svg" alt="Game Logo" class="game-logo">
                <span class="logo-subtitle">a pattern making game</span>
            </div>
            <!-- New Game Button for desktop layout -->
            <div class="new-game-container desktop-new-game">
                <button id="newGameBtnDesktop" class="new-game-btn group relative">
                    <i class="ri-add-line"></i>
                    <span class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-900 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50">New Game</span>
                </button>
                <!-- Player Selection Popover -->
                <div id="playerSelectionPopoverDesktop" class="player-selection-popover">
                    <div class="popover-content">
                        <div class="player-option" data-players="2">
                            <span class="player-count">2 Players</span>
                            <div class="player-circles">
                                <div class="player-circle" style="background-color: #9ca3af;"></div>
                                <div class="player-circle" style="background-color: #6b7280;"></div>
                            </div>
                        </div>
                        <div class="player-option" data-players="3">
                            <span class="player-count">3 Players</span>
                            <div class="player-circles">
                                <div class="player-circle" style="background-color: #d1d5db;"></div>
                                <div class="player-circle" style="background-color: #9ca3af;"></div>
                                <div class="player-circle" style="background-color: #6b7280;"></div>
                            </div>
                        </div>
                        <div class="player-option" data-players="4">
                            <span class="player-count">4 Players</span>
                            <div class="player-circles">
                                <div class="player-circle" style="background-color: #e5e7eb;"></div>
                                <div class="player-circle" style="background-color: #d1d5db;"></div>
                                <div class="player-circle" style="background-color: #9ca3af;"></div>
                                <div class="player-circle" style="background-color: #6b7280;"></div>
                            </div>
                        </div>
                        <!-- Divider -->
                        <div class="popover-divider"></div>
                        <!-- Grid Size Options -->
                        <div class="grid-size-options">
                            <div class="grid-size-option selected" data-grid-size="12">
                                <span class="grid-size-dimensions">small</span>
                            </div>
                            <div class="grid-size-option" data-grid-size="13">
                                <span class="grid-size-dimensions">medium</span>
                            </div>
                            <div class="grid-size-option" data-grid-size="14">
                                <span class="grid-size-dimensions">large</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="player-info" id="playerInfo"></div>
            <div class="game-board bg-gray-100 rounded-lg border-2 border-gray-300 shadow-xl" id="gameBoard"></div>
            <button class="pattern-toggle bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full shadow-lg transition-all group relative" id="patternToggle">
                <i class="ri-eye-line"></i>
                <span class="absolute bottom-full left-full ml-2 px-2 py-1 text-xs text-white bg-gray-900 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50" id="patternToggleTooltip">To Color View</span>
            </button>
            <div class="game-controls">
                <button class="control-btn bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full shadow-md transition-all hover:-translate-y-1 group relative" id="rotateBtn">
                    <i class="ri-anticlockwise-line"></i>
                    <span class="absolute bottom-full right-full mr-2 px-2 py-1 text-xs text-white bg-gray-900 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50">Rotate (R)</span>
                </button>
                <button class="control-btn bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full shadow-md transition-all hover:-translate-y-1 group relative" id="flipBtn">
                    <i class="ri-arrow-left-right-line"></i>
                    <span class="absolute bottom-full right-full mr-2 px-2 py-1 text-xs text-white bg-gray-900 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50">Flip (F)</span>
                </button>
                <button class="control-btn bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full shadow-md transition-all hover:-translate-y-1 group relative" id="undoBtn">
                    <i class="ri-refresh-line"></i>
                    <span class="absolute bottom-full right-full mr-2 px-2 py-1 text-xs text-white bg-gray-900 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50">Undo (Z)</span>
                </button>
            </div>
            <!-- Bottom Marketplace for desktop layout -->
            <div class="marketplace-container desktop-marketplace">
                <div class="pieces-container" id="marketplaceDesktop"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/pieces.js"></script>
    <script src="js/game.js"></script>
    <script src="js/rendering.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/animations.js"></script>
</body>
</html> 